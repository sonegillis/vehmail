
<section class="auth-wrapper p-4 animated zoomIn">
  <div class="close-icon d-flex justify-content-end" (click)="closeAuthForm.emit()">
    <mat-icon aria-hidden="false" aria-label="Example home icon">close</mat-icon>
  </div>
  <div class="h-100 d-flex flex-column align-items-center">
    <app-button-segments (changed)="authType = $event" [buttons]="{'1': 'Signup', '2': 'Login'}"></app-button-segments>
    <ng-container *ngIf="authType === '1' else login">
      <h1 class="mt-4">Sign Up for Free</h1>
      <div class="signup-form-split d-flex justify-content-center mb-1">
        <p [ngClass]="signupLevel === 1 ? 'active': 'not-active'" class="mr-1">1</p>
        <p [ngClass]="signupLevel === 2 ? 'active' : 'not-active'">2</p>
        <p [ngClass]="signupLevel === 3 ? 'active' : 'not-active'" class="ml-1">3</p>
      </div>
      <div class="h-100 w-100 d-flex flex-column">
        <form #ngForm *ngIf="signupLevel === 1" class="animated fadeIn">
          <label>
            Full Names
            <div class="w-100 mb-2 my-input">
              <mat-icon aria-hidden="false" aria-label="Example home icon">person</mat-icon>
              <input name="fullNames" [(ngModel)]="signupData.fullNames" class="w-100" type="text" placeholder="Full Names">
            </div>
          </label>
          <label>
            <div class="w-100 mb-2 my-input">
              <mat-icon aria-hidden="false" aria-label="Example home icon">flag</mat-icon>
              <select name="country" class="w-100" [(ngModel)]="signupData.diallingCode">
                <option *ngFor="let country of countries" [value]="country.dialling_code">{{country.country_name}}</option>
              </select>
            </div>
          </label>
          <label>
            City
            <div class="w-100 mb-2 my-input">
              <mat-icon aria-hidden="false" aria-label="Example home icon">apartment</mat-icon>
              <input class="w-100" type="text" placeholder="City" name="city" [(ngModel)]="signupData.city">
            </div>
          </label>
          <label>
            Phone number
            <div class="w-100 mb-2 my-input">
              <mat-icon aria-hidden="false" aria-label="Example home icon">call</mat-icon>
              <span>{{signupData.diallingCode}}</span>
              <input name="phoneNumber" [(ngModel)]="signupData.phoneNumber" class="w-100" type="number" placeholder="Phone number">
            </div>
          </label>
          <div class="w-100">
            <button (click)="nextSignupPage()" class="my-btn w-50 float-right d-flex align-items-center justify-content-center">
              <span>NEXT</span><mat-icon aria-hidden="false" aria-label="Example home icon">arrow_forward</mat-icon>
            </button>
          </div>
        </form>
        <form #ngForm *ngIf="signupLevel === 2" class="animated fadeIn">
          <label>
            Username
            <div class="w-100 mb-2 my-input">
              <mat-icon aria-hidden="false" aria-label="Example home icon">call</mat-icon>
              <input name="username" [(ngModel)]="signupData.username" class="w-100" type="text" placeholder="First Name">
            </div>
          </label>
          <label>
            Password
            <div class="w-100 mb-2 my-input">
              <mat-icon aria-hidden="false" aria-label="Example home icon">lock</mat-icon>
              <input name="password" [(ngModel)]="signupData.password" class="w-100" [type]="passwordType" placeholder="Password">
              <mat-icon (click)="passwordType = 'text'" *ngIf="passwordType === 'password'" aria-hidden="false" aria-label="Example home icon">visibility_off</mat-icon>
              <mat-icon (click)="passwordType = 'password'" *ngIf="passwordType === 'text'" aria-hidden="false" aria-label="Example home icon">visibility</mat-icon>
            </div>
          </label>
          <label>
            Confirm Password
            <div class="w-100 mb-2 my-input">
              <mat-icon aria-hidden="false" aria-label="Example home icon">lock</mat-icon>
              <input class="w-100" [type]="confirmPasswordType" placeholder="Confirm Password">
              <mat-icon (click)="confirmPasswordType = 'text'" *ngIf="confirmPasswordType === 'password'" aria-hidden="false" aria-label="Example home icon">visibility_off</mat-icon>
              <mat-icon (click)="confirmPasswordType = 'password'" *ngIf="confirmPasswordType === 'text'" aria-hidden="false" aria-label="Example home icon">visibility</mat-icon>
            </div>
          </label>
          <div class="w-100 d-flex justify-content-between">
            <button (click)="prevSignupPage()" class="my-btn w-45 d-flex align-items-center justify-content-center">
              <mat-icon aria-hidden="false" aria-label="Example home icon">arrow_backward</mat-icon>
              <span>BACK</span>
            </button>
            <button (click)="nextSignupPage()" class="my-btn w-45 d-flex align-items-center justify-content-center">
              <span>NEXT</span><mat-icon aria-hidden="false" aria-label="Example home icon">arrow_forward</mat-icon>
            </button>
          </div>
        </form>
        <form #ngForm *ngIf="signupLevel === 3" class="animated fadeIn">
          <p>We have sent an SMS verfication code to
            <span class="text-color-primary font-weight-bold">
              {{signupData.diallingCode}} {{signupData.phoneNumber}}
              <mat-icon (click)="signupLevel = 1" class="cursor-pointer" aria-hidden="false" aria-label="Example home icon">edit</mat-icon>
            </span>
          </p>
          <div class="w-100 mb-2 d-flex justify-content-center mb-4">
            <input class="my-input w-50 verfication-code" type="text" placeholder="Confirmation Code" [disabled]="!insertVerificationCode">
            <p *ngIf="insertVerificationCode" (click)="verityPhone()" class="text-color-primary cursor-pointer ml-2 w-50 align-self-end">Resend SMS?</p>
          </div>
          <div class="w-100 d-flex justify-content-between">
            <button (click)="prevSignupPage()" class="my-btn w-48 d-flex align-items-center justify-content-center">
              <mat-icon aria-hidden="false" aria-label="Example home icon">arrow_backward</mat-icon>
              <span>BACK</span>
            </button>
            <button *ngIf="insertVerificationCode" (click)="createAccount()" class="my-btn w-48 d-flex align-items-center justify-content-center">
              <span>CREATE ACCOUNT</span>
            </button>
          </div>
        </form>
      </div>
    </ng-container>
  </div>
</section>

<!-- Login -->
<ng-template #login>
  <h1 class="mt-4"> Log In </h1>
  <div class="h-100 d-flex flex-column w-100">
    <form #ngForm class="w-100">
      <div class="w-100 mb-2 position-relative">
        <input class="my-input input-username w-100" type="text" placeholder="Username">
        <p class="position-absolute input-completion">@vehmail.com</p>
      </div>
      <div class="w-100 mb-2">
        <input class="my-input w-100" type="password" placeholder="password">
      </div>
      <div class="w-100">
        <button class="my-input my-btn w-50 float-right" type="submit">Login</button>
      </div>
    </form>
  </div>
</ng-template>
<!-- login end -->

<!-- signup -->

